<!-- planos.html: Slider moderno com barra de preenchimento e fundo degradê sempre visível -->
<style>
  :root {
    --primary-color: #48BB78;
    --primary-dark: #2e7d32;
    --secondary-color: #8BC34A;
    --accent-color: #48BB78;
    --accent-dark: #2e7d32;
    --text-color: #2D3748;
    --light-bg: #F7FAFC;
    --white: #FFFFFF;
    --footer-bg: #222831;
    --shadow: 0 2px 8px rgba(44, 82, 130, 0.07);
    --transition: .2s;
  }
  .planos-section { background: var(--light-bg); border-radius: 30px; box-shadow: 0 8px 32px 0 rgba(44, 62, 80, 0.10); padding: 3rem 1rem 5rem 1rem; max-width: 1200px; margin: 3rem auto; color: var(--text-color);}
  .planos-titulo { color: var(--primary-dark); font-size: 2.2rem; font-weight: 700; letter-spacing: .5px; margin-bottom: .7rem; text-align: center;}
  .planos-descricao { color: var(--text-color); font-size: 1.14rem; margin-bottom: 2.2rem; text-align: center;}
  .nivel-container { background: var(--white); border-radius: 18px; padding: 1.7rem 1.5rem 1.5rem 1.5rem; margin-bottom: 1.8rem; box-shadow: var(--shadow); max-width: 530px; margin-left: auto; margin-right: auto;}
  .nivel-titulos { display: flex; justify-content: space-between; margin-bottom: 0.7rem; margin-top: 0.2rem; width: 100%;}
  .nivel-titulo-item { flex: 1 1 0; text-align: center; font-size: 1.06rem; font-weight: 700; color: var(--primary-dark); min-width: 0; padding: 0 4px; white-space: normal; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;}
  .nivel-slider-area { position: relative; width: 100%; margin-bottom: 1.2rem; margin-top: 0.1rem; height: 40px;}
  .nivel-slider-bg { position: absolute; left: 0; right: 0; top: 50%; transform: translateY(-50%); height: 10px; border-radius: 6px; background: linear-gradient(90deg, #48BB78 0%, #FFD600 50%, #E53935 100%); z-index: 1; width: 100%; pointer-events: none;}
  .nivel-slider-fill { position: absolute; left: 0; top: 50%; transform: translateY(-50%); height: 10px; border-radius: 6px 0 0 6px; background: linear-gradient(90deg, #48BB78 0%, #FFD600 50%, #E53935 100%); z-index: 2; pointer-events: none; transition: width .3s, background .3s;}
  .nivel-slider { width: 100%; height: 40px; background: transparent; outline: none; appearance: none; position: absolute; left: 0; top: 0; z-index: 4; margin: 0; cursor: pointer;}
  .nivel-slider::-webkit-slider-thumb { appearance: none; width: 28px; height: 28px; border-radius: 50%; background: #fff; border: 3px solid var(--thumb-border, #48BB78); box-shadow: 0 2px 6px #d9f8ec80; transition: border .2s; cursor: pointer; position: relative; z-index: 5;}
  .nivel-slider:focus::-webkit-slider-thumb { border: 3px solid #FFD600;}
  .nivel-slider::-moz-range-thumb { width: 28px; height: 28px; border-radius: 50%; background: #fff; border: 3px solid var(--thumb-border, #48BB78); box-shadow: 0 2px 6px #d9f8ec80; transition: border .2s; cursor: pointer; position: relative; z-index: 5;}
  .nivel-slider:focus::-moz-range-thumb { border: 3px solid #FFD600;}
  .nivel-slider::-ms-thumb { width: 28px; height: 28px; border-radius: 50%; background: #fff; border: 3px solid var(--thumb-border, #48BB78); box-shadow: 0 2px 6px #d9f8ec80; transition: border .2s; cursor: pointer; position: relative; z-index: 5;}
  .nivel-slider::-webkit-slider-runnable-track { height: 10px; background: transparent;}
  .nivel-slider::-ms-fill-lower, .nivel-slider::-ms-fill-upper { background: transparent;}
  .slider-markers { position: absolute; left: 0; right: 0; top: 50%; transform: translateY(-50%); width: 100%; height: 0; z-index: 10; pointer-events: none;}
  .slider-dot { position: absolute; width: 14px; height: 14px; background: #222; border-radius: 50%; top: 50%; transform: translate(-50%, -50%); box-shadow: 0 0 0 3px #fff; border: 2px solid #222; pointer-events: none; z-index: 11;}
  .nivel-labels { margin-top: 1.1rem; font-size: 1.08rem; color: var(--primary-dark); font-weight: 500; text-align: center;}
  /* ...restante igual... */
  /* (O restante do CSS dos cards, botões, responsividade etc.) */
</style>

<section class="planos-section" id="planos">
  <h2 class="planos-titulo">Planos Personalizados para Cada Perfil</h2>
  <p class="planos-descricao">Escolha o perfil de cuidado e o período. Veja os valores por quarto e modalidade de pagamento.</p>
  <div class="nivel-container">
    <label style="display:block; font-weight:bold; margin-bottom:1.2rem; font-size:1.13rem;">
      Qual melhor descreve o seu familiar?
    </label>
    <div class="nivel-titulos">
      <span class="nivel-titulo-item">Paciente com poucas complexidades de saúde</span>
      <span class="nivel-titulo-item">Paciente com algumas complexidades de saúde</span>
      <span class="nivel-titulo-item">Paciente com muitas complexidades de saúde</span>
    </div>
    <div class="nivel-slider-area">
      <div class="nivel-slider-bg"></div>
      <div class="nivel-slider-fill" id="nivelSliderFill"></div>
      <input type="range" id="nivelCuidados" min="1" max="3" value="1" class="nivel-slider">
      <div class="slider-markers">
        <span class="slider-dot" style="left:0%;"></span>
        <span class="slider-dot" style="left:50%;"></span>
        <span class="slider-dot" style="left:100%;"></span>
      </div>
    </div>
    <div class="nivel-labels" id="descricaoNivel"></div>
  </div>
  <!-- ...restante igual... -->
  <!-- (cards, botões de período, carousel etc.) -->
</section>

<script>
  let frequencia = 'anual';
  const quartos = [
    { cod: "q3", label: "Quarto Triplo ou mais", img: "quarto3.jpg" },
    { cod: "q2", label: "Quarto Duplo", img: "quarto2.jpg" },
    { cod: "q1", label: "Quarto Individual", img: "quarto1.jpg" }
  ];
  // Textos de perfil atualizados
  const niveisResumo = [
    {
      titulo: "Paciente com poucas complexidades de saúde",
      descricao: "Seu familiar é independente para a maioria das tarefas ou alimentação."
    },
    {
      titulo: "Paciente com muitas complexidades de saúde",
      descricao: "Seu familiar precisa de suporte próximo e contínuo, com atenção total em todas as suas necessidades e bem-estar."
    }
  ];

  function atualizarDescricaoNivel() {
    const nivel = parseInt(document.getElementBy.getElementById("nivelSliderFill");
    const min = parseInt(slider.min, 10);
    const max = parseInt(slider.max, 10);
    const val = parseInt(slider.value, 10);

    // Percentual preenchido baseado na posição do thumb (0 a 1)
    const percent = ((val - min) / (max - min));
    fill.style.width = `calc(${percent * 100}% - ${percent * 28}px + 14px)`;

    // O fundo do preenchimento é sempre o mesmo degradê do fundo da barra
    // O thumb muda de cor na borda
    let thumbBorder;
    if (val === 1) thumbBorder = "#48BB78";
    else if (val === 2) thumbBorder = "#FFD600";
    else thumbBorder = "#E53935";
    slider.style.setProperty('--thumb-border', thumbBorder);
  }

  // ...restante igual...
  // (Funções de carousel, cards, WhatsApp, etc.)

  document.addEventListener('DOMContentLoaded', () => {
    atualizarDescricaoNivel();
    atualizarSliderPreenchimento();
    // ...suas funções de carousel...
    document.getElementById("nivelCuidados").addEventListener('input', function() {
      atualizarDescricaoNivel();
      atualizarSliderPreenchimento();
      // ...carousel update, se necessário...
    });
  });
</script>